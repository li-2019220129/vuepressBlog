---
title: gitç‰ˆæœ¬ç®¡ç†
date: 2020-04-09
tags:
 - git
categories: 
 - frontend
---

# ç‰ˆæœ¬ç®¡ç†-git
![](/img/frontend/2020/040901/header.png)

> ğŸ¢ä»¥å‰å¯¹gitåªæ˜¯ä¸€çŸ¥åŠè§£,è¯¥ç¯‡æ–‡ç« ç»“åˆè§†é¢‘å¯¹gitè¿›è¡Œæ·±å…¥ç†è§£

## é›†ä¸­å¼ä¸åˆ†å¸ƒå¼

>é›†ä¸­å¼ï¼šSVN
>
>åˆ†å¸ƒå¼ï¼šGit

### é›†ä¸­å¼

> ç®€å•æè¿°:
>
> ç‰ˆæœ¬åº“æ˜¯é›†ä¸­å­˜æ”¾åœ¨ä¸­å¤®æœåŠ¡å™¨çš„ï¼Œè€Œå¹²æ´»çš„æ—¶å€™ï¼Œç”¨çš„éƒ½æ˜¯è‡ªå·±çš„ç”µè„‘ï¼Œæ‰€ä»¥è¦å…ˆä»ä¸­å¤®æœåŠ¡å™¨å–å¾—æœ€æ–°çš„ç‰ˆæœ¬ï¼Œç„¶åå¼€å§‹å¹²æ´»ï¼Œå¹²å®Œæ´»äº†ï¼Œå†æŠŠè‡ªå·±çš„æ´»æ¨é€ç»™ä¸­å¤®æœåŠ¡å™¨ã€‚
>
> æœ¬åœ°æ˜¯æ²¡æœ‰ç‰ˆæœ¬åº“çš„ä¿®æ”¹è®°å½•çš„ï¼Œæ‰€ä»¥é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæœ€å¤§çš„æ¯›ç—…å°±æ˜¯å¿…é¡»è”ç½‘æ‰èƒ½å·¥ä½œï¼Œå¦‚æœåœ¨å±€åŸŸç½‘å†…è¿˜å¥½ï¼Œå¸¦å®½å¤Ÿå¤§ï¼Œé€Ÿåº¦å¤Ÿå¿«ï¼Œå¯å¦‚æœåœ¨äº’è”ç½‘ä¸Šï¼Œé‡åˆ°ç½‘é€Ÿæ…¢çš„è¯ï¼Œå¯èƒ½æäº¤ä¸€ä¸ª10Mçš„æ–‡ä»¶å°±éœ€è¦5åˆ†é’Ÿã€‚

![](/img/frontend/2020/040901/jizhongshi.jpg)

### åˆ†å¸ƒå¼

> å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„å®‰å…¨æ€§è¦é«˜å¾ˆå¤šï¼Œå› ä¸ºæ¯ä¸ªäººç”µè„‘é‡Œéƒ½æœ‰å®Œæ•´çš„ç‰ˆæœ¬åº“ï¼ŒæŸä¸€ä¸ªäººçš„ç”µè„‘åæ‰äº†ä¸è¦ç´§ï¼Œéšä¾¿ä»å…¶ä»–äººé‚£é‡Œå¤åˆ¶ä¸€ä¸ªå°±å¯ä»¥äº†ã€‚è€Œé›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„ä¸­å¤®æœåŠ¡å™¨è¦æ˜¯å‡ºäº†é—®é¢˜ï¼Œæ‰€æœ‰äººéƒ½æ²¡æ³•å¹²æ´»äº†

![](/img/frontend/2020/040901/fenbushi.jpg)

## gitå·¥ä½œåŒº

å·¥ä½œåŒºï¼ˆworkspaceï¼‰
æš‚å­˜åŒºstageï¼ˆindexï¼‰
æœ¬åœ°ä»“åº“ï¼ˆlocal repositoryï¼‰
è¿œç¨‹ä»“åº“ï¼ˆremote repository

![](/img/frontend/2020/040901/gitworkdarea.png)

## gitåˆ†æ”¯

![](/img/frontend/2020/040901/gitbranch.jpg)

**master** ï¼šè¿™ä¸ªåˆ†æ”¯çš„ä»£ç æ˜¯å‘å¸ƒåˆ°ç”Ÿäº§çš„ä»£ç 

**develop** ï¼šè¿™ä¸ªåˆ†æ”¯çš„ä»£ç æ˜¯é¢„å‘å¸ƒåˆ°ç”Ÿäº§çš„ä»£ç 

**release** ï¼šè¿™ä¸ªåˆ†æ”¯çš„ä»£ç æ˜¯æ–°ç‰ˆæœ¬å‘å¸ƒåˆ°ç”Ÿäº§çš„ä»£ç 

**feature** ï¼šè¿™ä¸ªåˆ†æ”¯çš„ä»£ç æ˜¯æ–°éœ€æ±‚å¼€å‘çš„ä»£ç 

**hotfix** ï¼šè¿™ä¸ªåˆ†æ”¯çš„ä»£ç æ˜¯ç´§æ€¥ä¿®å¤ç”Ÿäº§ bug çš„ä»£ç 

### åˆ†æ”¯ç­–ç•¥

![](/img/frontend/2020/040901/gitbranchmethod.jpg)

## gitè‡ªåŠ¨éƒ¨ç½²

> å½“æœ¬åœ°å‘githubæ¨é€çš„æ—¶å€™,ä¼šè§¦å‘githubé’©å­,git hookå‘webæœåŠ¡å™¨è¯·æ±‚æ–‡ä»¶,æ‰§è¡Œgit pull,æ‹‰å–æœ€æ–°æ–‡ä»¶=> webæœåŠ¡å™¨è·å–æœ€æ–°ä»£ç  => å› ä¸ºä¾§é‡å‰ç«¯,æ‰€ä»¥è¿™å—éœ€è¦çš„æ—¶å€™å†äº†è§£

![](/img/frontend/2020/040901/hook.png)

## gitå‘½ä»¤ 

- ç‰ˆæœ¬æ£€æŸ¥

  ```bash
  $ git --version
  ```

- é…ç½®ç”¨æˆ·åä¸è´¦å·

  ```bash
  $ git config [--global] user.email "1690150504@qq.com"
  $ git config [--global] user.name "sineava"
  
  // åˆ—ä¸¾gité…ç½®
  $ git config --list
  ```

- åˆå§‹åŒ–ç‰ˆæœ¬åº“

  ```bash
  $ git init
  
  // æ˜¾ç¤ºéšè—çš„æ–‡ä»¶å¤¹ä¸æ–‡ä»¶
  $ ls -a
  ```

- å…‹éš†gité¡¹ç›®

  ```bash
  $ git clone project_url
  ```

- å¸¸è§„å‘½ä»¤workflow=>é¡¹ç›®æäº¤

  ```bash
  $ touch readme.md
  $ git add .
  $ git commit -m "msg"
  ```

- çŠ¶æ€æŸ¥çœ‹

  ```bash
  $ git status
  // Untracked files => ç­‰å¾…æäº¤åˆ°æš‚å­˜åŒº(æœªadd)
  // Changes not staged for commit => ç‰ˆæœ¬å·²æœ‰æ–‡ä»¶é­åˆ°ä¿®æ”¹ä½†æ˜¯è¿˜æ²¡æäº¤åˆ°æš‚å­˜åŒº
  // Changes to be committed => å·²æäº¤åˆ°æš‚å­˜åŒº
  ```

- æ–‡ä»¶å¿½ç•¥æäº¤

  ```bash
  $ touch .gitignore
  
  .gitignoreé…ç½®:
  *.txt 	// æ ¹æ®åç¼€å¿½ç•¥
  a.txt 	// å¿½ç•¥a.txt
  !a.txt 	// å¿½ç•¥éa.txt
  
  // => æ³¨æ„: gité¡¹ç›®æ–‡ä»¶å¤¹é‡Œé¢æ²¡æœ‰æ–‡ä»¶ä¸ä¼šè¿›è¡Œè·Ÿè¸ª
  /dist 				// å¿½ç•¥distæ–‡ä»¶å¤¹
  /dist/index.html 	// å¿½ç•¥distä¸‹çš„index.html
  ```

- åˆ é™¤æ–‡ä»¶

  ```bash
  $ git rm a.txt 			=> ä»ç‰ˆæœ¬åº“åˆ é™¤a.txt(æœ¬åœ°ä¹Ÿä¼šæ¶ˆå¤±)
  $ git rm --cached a.txt => ä»ç‰ˆæœ¬åº“æ’¤é”€(æš‚å­˜åŒºæ¶ˆå¤±,æœ¬åœ°ä¸ä¼š)
  ```

- æŸ¥çœ‹æ—¥å¿—

  ```bash
  $ git log 				// æŸ¥çœ‹commitæäº¤æ—¥å¿—
  $ git log -p 			// æŸ¥çœ‹æ–‡ä»¶æäº¤å˜åŠ¨æ—¥å¿—
  $ git log -p -1 		// æŸ¥çœ‹æœ€è¿‘ä¸€æ¬¡æäº¤æ—¥å¿—
  $ git log --online		// æŸ¥çœ‹ç®€çŸ­æ—¥å¿—
  $ git log --name-only	// æŸ¥çœ‹æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¥å¿—
  $ git log --name-status	// æŸ¥çœ‹æ–‡ä»¶å‘ç”Ÿäº†ä½•ç§å˜åŒ–æ—¥å¿—(åˆ é™¤/å¢åŠ )
  $ git log -p -2 --online --name-only --name-status // å¸¸è§„å‘½ä»¤
  ...
  
  // å˜åŠ¨ä¿¡æ¯è¯´æ˜
  + åœ¨æ–‡ä»¶ä¸­æ·»åŠ äº†ä¸€è¡Œ
  - ä»æ–‡ä»¶ä¸­åˆ é™¤äº†ä¸€è¡Œ
  ```

- gitå·²commitæƒ…å†µä¸‹ä¿®æ”¹æ–‡ä»¶å=>é€‚ç”¨äºå‡ºç°æ–‡ä»¶æ”¹å,ç‰ˆæœ¬åº“ä¸å‘ç”Ÿå˜åŒ–

  ```bash
  $ git mv Index.html index.html
  ```

- gitæäº¤

  ```bash
  $ git commit -m "å®¢æˆ·æ˜¯å‚»é€¼"
  $ git commit --amend => ä¿®æ”¹â€œå®¢æˆ·æ˜¯å‚»é€¼â€ => "å®¢æˆ·çœŸå¸…"(ä¸ä¼šç•™ä¸‹è®°å½•)
  
  ## git commit --amendç¼–è¾‘å™¨æŠ¥é”™è§£å†³=>ä¿®æ”¹é»˜è®¤ç¼–è¾‘å™¨ä¸ºvim
  git config --global core.editor vim
  ```

- æ’¤é”€æäº¤

  ```bash
  $ git reset HEAD readme.md 	// ä»ä»“åº“å›é€€åˆ°å·¥ä½œåŒº
  $ git checkout -- hi.php 	// ä»æš‚å­˜åŒºå›é€€åˆ°å·¥ä½œåŒº
  ```

- ä¿®æ”¹gitåˆ«å

  ```bash
  $ git config [--global] alias.a add => addåˆ«åæ”¹ä¸ºa=>ä½¿ç”¨çš„gité…ç½®
  
  // ç³»ç»Ÿä¿®æ”¹åˆ«åå‚è€ƒæ–‡æœ«èµ„æ–™
  ```

- åˆ†æ”¯

  ```bash
  $ git branch				// æŸ¥çœ‹åˆ†æ”¯
  $ git branch -a				// æŸ¥çœ‹åˆ†æ”¯(åŒ…æ‹¬è¿œç¨‹åˆ†æ”¯)
  $ git push --set-upstream origin ask // å°†åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹æœåŠ¡å™¨(è¿œç¨‹æœåŠ¡å™¨ä¸å­˜åœ¨å½“å‰åˆ†æ”¯)
  
  $ git branch login 			// åˆ›å»ºloginåˆ†æ”¯
  $ git checkout login 		// åˆ‡æ¢å½“å‰åˆ†æ”¯åˆ°loginåˆ†æ”¯
  
  $ git checkout -b register 	// åˆ›å»ºregister,å¹¶åˆ‡æ¢å½“å‰åˆ†æ”¯åˆ°registeråˆ†æ”¯
  
  $ git checkout master
  $ git merge login 			// åˆå¹¶loginåˆ†æ”¯åˆ°masteråˆ†æ”¯
  // å½“å‰åˆ†æ”¯åˆå¹¶åˆ°å¦ä¸€åˆ†æ”¯æ—¶ï¼Œå¦‚æœæ²¡æœ‰åˆ†æ­§è§£å†³ï¼Œå°±ä¼šç›´æ¥ç§»åŠ¨æ–‡ä»¶æŒ‡é’ˆ(è¿™ä¸ªè¿‡ç¨‹å«åšfastforward)
  
  $ git branch -d login 		// åˆ é™¤loginåˆ†æ”¯(æœªåˆå¹¶åˆ†æ”¯æ˜¯åˆ é™¤ä¸äº†çš„)
  $ git branch -D bbs			// å¼ºåˆ¶åˆ é™¤æœªåˆå¹¶åˆ†æ”¯(æ…é‡ä½¿ç”¨=>å¦‚æœæœªæäº¤,å°±æ‰¾ä¸å›æ¥äº†^_^)
  $ git push origin --delete ask // åˆ é™¤è¿œç¨‹åˆ†æ”¯
  
  $ git branch --merged		// æŸ¥çœ‹å·²ç»åˆå¹¶çš„åˆ†æ”¯(å¦‚ä½•ç›´æ¥åœ¨masteråˆ†æ”¯ä¸Šåˆ›å»ºåˆ†æ”¯ä¸”æœªå‘ç”Ÿä¿®æ”¹
  							,åŸºäºmasteråˆ†æ”¯,ç­‰åŒäºåˆå¹¶)
  $ git branch --no-merged    // æŸ¥çœ‹æœªåˆå¹¶åˆ†æ”¯
  ```

- åˆ†æ”¯å†²çªè§£å†³

  ```bash
  // åˆ†æ”¯å†²çªäº§ç”ŸåŸå› : åœ¨å¤šä¸ªåˆ†æ”¯ä¸Šå¯¹åŒä¸€æ–‡ä»¶è¿›è¡Œäº†ä¿®æ”¹å¹¶ä¸”è¿›è¡Œäº†æäº¤,ä¸»åˆ†æ”¯åˆå¹¶æ—¶äº§ç”Ÿå†²çª
  
  // åˆ†æ”¯å†²çªæ¨¡æ‹Ÿ
  $ git init
  $ touch readme.md
  $ vim readme.md 					// ä¿®æ”¹æ–‡ä»¶
  $ git add .
  $ git commit -m "master commit" 	// åœ¨masteråˆ†æ”¯è¿›è¡Œæäº¤
  // å¼€å§‹åˆ†æ”¯å†²çªæ¨¡æ‹Ÿ
  $ git checkout -b login
  $ git checkout -b register
  $ vim readme.md 					// registeråˆ†æ”¯ä¿®æ”¹æ–‡ä»¶
  $ git add .
  $ git commit -m "register commit" 	// åœ¨registeråˆ†æ”¯è¿›è¡Œæäº¤
  $ git checkout login
  $ vim readme.md 					// loginåˆ†æ”¯ä¿®æ”¹æ–‡ä»¶
  $ git add .
  $ git commit -m "login commit" 		// åœ¨loginåˆ†æ”¯è¿›è¡Œæäº¤
  $ git checkout master
  $ git merge register
  $ git merge login => æ­¤æ—¶å†²çªäº§ç”Ÿ
  // CONFLICT (content): Merge conflict in readme.md
  Automatic merge failed; fix conflicts and then commit the result.
  
  // å¿…é¡»äººä¸ºè§£å†³: => æ‰‹åŠ¨é€‰æ‹©å“ªå—ä»£ç ,é‡æ–°æäº¤
  
  ç¬¬ä¸€æ¬¡æäº¤ => æ‰€æœ‰åˆ†æ”¯å…±æœ‰æ•°æ®
  <<<<<<< HEAD
  ç¬¬äºŒæ¬¡æäº¤ // <<<<<<<åˆ°=======åŒºåŸŸ,å½“å‰HEADæŒ‡é’ˆåœ¨master,æ‰€ä»¥å½“å‰æ˜¯masteråˆ†æ”¯å†…å®¹
  ç¬¬ä¸‰æ¬¡æäº¤ 
  =======
  ç¬¬å››æ¬¡æäº¤ // =======åˆ°>>>>>>>åŒºåŸŸä¸ºloginåˆ†æ”¯å†…å®¹
  >>>>>>> login => loginåˆ†æ”¯å†…å®¹
  ```

- stashä¸´æ—¶å‚¨å­˜åŒº

  > é€‚ç”¨åœºæ™¯: å½“å‰åˆ†æ”¯åšåˆ°ä¸€åŠ(æ­¤æ—¶ä¸é€‚åˆæäº¤,ä¹Ÿä¸é€‚åˆåˆ é™¤åˆ†æ”¯),ä¸æƒ³æ”¾å¼ƒå½“å‰åˆ†æ”¯,ä½†æ˜¯ä¸´æ—¶æœ‰å…¶ä»–åŠŸèƒ½éœ€è¦å¼€å‘
  >
  > å¦‚æœç›´æ¥åˆ‡æ¢,æŠ¥é”™å¦‚ä¸‹
  >
  > error: Your local changes to the following files would be overwritten by checkout:
  >         register.html
  > Please commit your changes or stash them before you switch branches.
  > Aborting

  ```bash
  $ git stash					// å°†å½“å‰çš„å·¥ä½œçŠ¶æ€ä¿å­˜åˆ°gitæ ˆ
  $ git stash list 			// æŸ¥çœ‹stashåˆ—è¡¨
  
  $ git stash apply			// å½“å…¶ä»–åˆ†æ”¯æ“ä½œå®Œæˆå,æ¢å¤ä¸´æ—¶å‚¨å­˜åŒº,ç»§ç»­å½“å‰åˆ†æ”¯å¼€å‘ => ä¸´æ—¶å‚¨å­˜åŒºä¾ç„¶å­˜åœ¨
  $ git stash drop stash@{0}	// åˆ é™¤ä¸´æ—¶å‚¨å­˜åŒº(0=>è¡¨ç¤ºç¬¬0ä¸ª...) => æ­¤æ—¶git stash listå°±æŸ¥è¯¢ä¸åˆ°äº†
  ```

- gitæ ‡ç­¾

  > æ³¨æ„: æ ‡ç­¾ä¸è¦éšä¾¿æ‰“,ç¨³å®šç‰ˆæ‰æ‰“ä¸Šæ ‡ç­¾

  ```bash
  git tag 		// æŸ¥çœ‹å½“å‰æ ‡ç­¾
  git tag v1.0.0	// æ‰“ä¸Šv1.0.0æ ‡ç­¾ => å¯ä»¥æ‰“ä¸Šå¤šä¸ªæ ‡ç­¾
  ```

- å‘å¸ƒå‹ç¼©åŒ…

  ```bash
  $ git archive master --prefix="ç¨³å®šç‰ˆapp" --form=zip > app.zip // æ­¤æ—¶ä¼šå¤šå‡ºapp.zip
  ```

-  git rebase

  > **å…¬å…±åˆ†æ”¯ç¦æ­¢ä½¿ç”¨rebase**
  >
  > åœºæ™¯ä¸€:  developåˆ†æ”¯è¿›è¡Œäº†æäº¤,æ¥ç€masteråˆ†æ”¯è¿›è¡Œäº†æäº¤,æ­¤æ—¶masteråˆ†æ”¯é™äºdevelopåˆ†æ”¯,æ­¤æ—¶Mergeä¼šæ··ä¹±git commitè®°å½•

  ```bash
  // æ¨¡æ‹Ÿç¯å¢ƒ
  $ git init
  $ touch master.html
  $ git add .
  $ git commit -m "master"
  $ git checkout -b ask
  $ touch ask.html
  $ git add .
  $ git commit -m "ask"
  $ git checkout master
  $ touch m2.php
  $ git add .
  $ git commit -m "master m2"
  // å¦‚æœæ­¤æ—¶git merge askåˆ†æ”¯,å°±ä¼šå‡ºç°å›¾ä¸€çš„git log(è¾ƒæ··ä¹±) => æ­¤æ—¶masteråˆ†æ”¯æ¯”askåˆ†æ”¯æå‰
  
  // git rebase
  $ git checkout ask
  $ git rebase master
  // æ­¤æ—¶git commitè®°å½•æ›´ä¸ºå¹²å‡€=>å­åˆ†æ”¯çš„åŸºç¡€ç‚¹ç§»åˆ°ä¸»åˆ†æ”¯åè¾¹
  ```

  

  git logå‰åå¯¹æ¯”(git rebaseåæäº¤è®°å½•æ›´åŠ æ¸…æ™°)

  ![](/img/frontend/2020/040901/rebase01.png)

  ![](/img/frontend/2020/040901/rebase02.png)

- ssh/httpsè¿æ¥

  >å¯¹æ¯”: sshè¿æ¥å¯ä»¥è¿›è¡Œæ— å¯†ç è¿æ¥,ä½†æ˜¯éœ€è¦é…ç½®å¯†é’¥
  >
  >=> ä¸åŒäºhttpsè¿æ¥,ä¸éœ€è¦git remote add origin masteræ“ä½œ,ä¼šç›´æ¥è¿›è¡Œé…ç½®

  ```bash
  // å¯†é’¥é…ç½®
  $ cd ~/.ssh
  $ vim id_rsa.pub // å¤åˆ¶å…¬é’¥å†…å®¹=>ç²˜è´´åˆ°github>setting>ssh and gpg keys>new ssh key
  
  // sshæƒ…å†µä¸‹æ¨é€(åˆæ¬¡)
  $ git clone git@github.com:sineava/git-release.git 
  $ touch readme.md
  $ git add .
  $ git commit -m "docs readme.md"
  $ git push // çœå»é…ç½®
  ```

- è¿œç¨‹ä»“åº“

  ```bash
  // æœ¬åœ°ç‰ˆæœ¬åº“ä¸»åŠ¨è¿›è¡Œè¿œç¨‹å…³è”(åˆæ¬¡)
  $ git remote add origin git@github.com:sineava/git-release.git
  $ git push -u origin master // æ¨é€åˆ°è¿œç¨‹æœåŠ¡å™¨masteråˆ†æ”¯
  
  // æŸ¥çœ‹è¿œç¨‹ä»“åº“
  git remote -v
  ```

- gitå¸¸è§„æ“ä½œ

  ```bash
  $ git clone https://github.com/sineava/git-release.git test => å°†é¡¹ç›®cloneåˆ°testç›®å½•
  $ git branch -a
  $ git pull origin ask:ask // å°†è¿œç¨‹askåˆ†æ”¯pullåˆ°æœ¬åœ°,å½¢æˆaskåˆ†æ”¯
  $ git push --set-upstream origin ask
  ```

---

å‚è€ƒèµ„æ–™

[gitä¸‹è½½-macos/liux/window](https://git-scm.com/download)

[å»–é›ªå³°-é›†ä¸­å¼vsåˆ†å¸ƒå¼](https://www.liaoxuefeng.com/wiki/896043488029600/896202780297248)

[åç›¾äºº-gitè§†é¢‘æ•™ç¨‹](https://www.bilibili.com/video/av56582999?from=search&seid=8645296339130960606)

[win10 git bash è®¾ç½®åˆ«å](https://blog.csdn.net/geol200709/article/details/96335072)

[å½»åº•ææ‡‚git rebase](http://jartto.wang/2018/12/11/git-rebase/)

[git hookå®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²](https://blog.csdn.net/weixin_34128534/article/details/88748810)